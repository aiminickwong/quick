{% if pageinfo %}
<script type="text/javascript">
// All of these functions depend on the form "action" defined in generic_list
function change_limit(value) {
    document.forms["action"].action = '/quick/{{ what }}/modifylist/limit/' + value
    document.forms["action"].submit();
}
function change_page(value) {
    document.forms["action"].action = '/quick/{{ what }}/modifylist/page/' + value
    document.forms["action"].submit();
}
</script>
<ul style="list-style:none" class="nav">
<li>
  <span onclick="javascript:display()" style="margin-right:5px;">显示列</span>
  <span for="limit">条目/页:</span>
  <select name="limit" id="limit" onchange="javascript:change_limit(this.value)">
  {% for p in pageinfo.items_per_page_list %}
    <option value="{{ p }}"{% ifequal pageinfo.items_per_page p %} selected="selected"{% endifequal %}>{{ p }}</option>
  {% endfor %}
  </select>
  <span>共{{ pageinfo.num_items }}条</span>
  {% ifnotequal pageinfo.prev_page "~" %}
  <a href="javascript:change_page('{{ pageinfo.prev_page }}')"><span class="lpointers" style="color:blue">&lArr;</span></a>
  {% else %}
  <span class="lpointers">&lArr;</span>
  {% endifnotequal %}
  <select name="page" id="page" onchange="javascript:change_page(this.value)">
    {% for p in pageinfo.pages %}<option value="{{ p }}"{% ifequal pageinfo.page p %} selected="selected"{% endifequal %}>Page {{ p }}</option>{% endfor %}
  </select>
  {% ifnotequal pageinfo.next_page "~" %}
  <a href="javascript:change_page('{{ pageinfo.next_page }}')"><span class="rpointers" style="color:blue">&rArr;</span></a>
  {% else %}
  <span class="rpointers">&rArr;</span>
  {% endifnotequal %}
</li>
</ul>
{% endif %}

